(function(p){"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.amd?define([],p):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).rfc6902=p()})(function(){return function m(n,c,l){function g(a,b){if(!c[a]){if(!n[a]){var e="function"==typeof require&&require;if(!b&&e)return e(a,!0);if(k)return k(a,!0);e=Error("Cannot find module '"+a+"'");throw e.code="MODULE_NOT_FOUND",e;}e=c[a]={exports:{}};
n[a][0].call(e.exports,function(e){var b=n[a][1][e];return g(b?b:e)},e,e.exports,m,n,c,l)}return c[a].exports}for(var k="function"==typeof require&&require,h=0;h<l.length;h++)g(l[h]);return g}({1:[function(m,n,c){function l(a,e){var b={},d;for(d in a)b[d]=1;for(var f in e)delete b[f];return Object.keys(b)}function g(a){var e={};a.forEach(function(a){for(var b in a)e[b]=(e[b]||0)+1});a=a.length;for(var b in e)e[b]<a&&delete e[b];return Object.keys(e)}function k(a){return void 0===a?"undefined":null===
a?"null":Array.isArray(a)?"array":typeof a}function h(a,b,c){function h(e,d){var f=k[e+","+d];if(void 0===f){if(q(a[e-1],b[d-1]))f=h(e-1,d-1);else{f=[];if(0<e){var c=h(e-1,d);f.push({operations:c.operations.concat({op:"remove",index:e-1}),cost:c.cost+1})}0<d&&(c=h(e,d-1),f.push({operations:c.operations.concat({op:"add",index:e-1,value:b[d-1]}),cost:c.cost+1}));0<e&&0<d&&(c=h(e-1,d-1),f.push({operations:c.operations.concat({op:"replace",index:e-1,original:a[e-1],value:b[d-1]}),cost:c.cost+1}));f=f.sort(function(a,
e){return a.cost-e.cost})[0]}k[e+","+d]=f}return f}var k={"0,0":{operations:[],cost:0}},l=isNaN(a.length)||0>=a.length?0:a.length,g=isNaN(b.length)||0>=b.length?0:b.length,g=h(l,g).operations.reduce(function(a,b){var h=d(a,2),k=h[0],h=h[1];if("add"===b.op){var g=b.index+1+h,g={op:b.op,path:c.add(g<l+h?String(g):"-").toString(),value:b.value};return[k.concat(g),h+1]}if("remove"===b.op)return g={op:b.op,path:c.add(String(b.index+h)).toString()},[k.concat(g),h-1];g=c.add(String(b.index+h));g=e(b.original,
b.value,g);return[k.concat.apply(k,f(g)),h]},[[],0]);return d(g,2)[0]}function a(a,b,d){var c=[];l(a,b).forEach(function(a){c.push({op:"remove",path:d.add(a).toString()})});l(b,a).forEach(function(a){c.push({op:"add",path:d.add(a).toString(),value:b[a]})});g([a,b]).forEach(function(h){c.push.apply(c,f(e(a[h],b[h],d.add(h))))});return c}function b(a,b,e){return q(a,b)?[]:[{op:"replace",path:e.toString(),value:b}]}function e(e,d,f){var c=k(e),g=k(d);return"array"==c&&"array"==g?h(e,d,f):"object"==c&&
"object"==g?a(e,d,f):b(e,d,f)}var d=function(a,e){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){for(var b=[],d=a[Symbol.iterator](),f;!(f=d.next()).done&&(b.push(f.value),!e||b.length!==e););return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");},f=function(a){if(Array.isArray(a)){for(var b=0,e=Array(a.length);b<a.length;b++)e[b]=a[b];return e}return Array.from(a)};c.subtract=l;c.intersection=g;c.objectType=k;c.diffArrays=h;c.diffObjects=a;c.diffValues=
b;c.diffAny=e;Object.defineProperty(c,"__esModule",{value:!0});var q=m("./equal").compare},{"./equal":2}],2:[function(m,n,c){function l(a,b){for(var e=[],d=0,f=a.length;d<f;d++)e.push([a[d],b[d]]);return e}function g(a,b){return a.length!==b.length?!1:l(a,b).every(function(a){return h(a[0],a[1])})}function k(a,b){var e=Object.keys(a),d=Object.keys(b);return g(e,d)?e.every(function(e){return h(a[e],b[e])}):!1}function h(a,b){return a===b?!0:Array.isArray(a)&&Array.isArray(b)?g(a,b):Object(a)===a&&
Object(b)===b?k(a,b):!1}c.compare=h;Object.defineProperty(c,"__esModule",{value:!0})},{}],3:[function(m,n,c){var l=function a(b,e,d){var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f)return b=Object.getPrototypeOf(b),null===b?void 0:a(b,e,d);if("value"in f&&f.writable)return f.value;e=f.get;return void 0===e?void 0:e.call(d)},g=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(a.__proto__=b)},k=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");};Object.defineProperty(c,"__esModule",{value:!0});c.MissingError=function(a){function b(a){k(this,b);l(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"Value required at path: "+a);this.path=a;this.name=this.constructor.name}g(b,a);return b}(Error);c.InvalidOperationError=function(a){function b(a){k(this,
b);l(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"Invalid operation: "+a);this.op=a;this.name=this.constructor.name}g(b,a);return b}(Error);c.TestError=function(a){function b(a,d){k(this,b);l(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"Test failed: "+a+" != "+d);this.actual=a;this.expected=d;this.name=this.constructor.name;this.actual=a;this.expected=d}g(b,a);return b}(Error)},{}],4:[function(m,n,c){c.applyPatch=function(a,b){return b.map(function(b){var d=
k[b.op];return void 0===d?new l(b.op):d(a,b)})};c.createPatch=function(a,b){var e=new g;return h(a,b,e)};Object.defineProperty(c,"__esModule",{value:!0});var l=m("./errors").InvalidOperationError,g=m("./pointer").Pointer,k=function(a){return a&&a.__esModule?a:{"default":a}}(m("./patch")),h=m("./diff").diffAny},{"./diff":1,"./errors":3,"./patch":5,"./pointer":6}],5:[function(m,n,c){function l(a,b,f){Array.isArray(a)?"-"==b?a.push(f):a.splice(b,0,f):a[b]=f}function g(a,b){Array.isArray(a)?a.splice(b,
1):delete a[b]}c.add=function(b,d){var f=k.fromJSON(d.path).evaluate(b);if(void 0===f.parent)return new a(d.path);l(f.parent,f.key,d.value);return null};c.remove=function(b,d){var f=k.fromJSON(d.path).evaluate(b);if(void 0===f.value)return new a(d.path);g(f.parent,f.key);return null};c.replace=function(b,d){var f=k.fromJSON(d.path).evaluate(b);if(void 0===f.value)return new a(d.path);f.parent[f.key]=d.value;return null};c.move=function(b,d){var f=k.fromJSON(d.from).evaluate(b);if(void 0===f.value)return new a(d.from);
var c=k.fromJSON(d.path).evaluate(b);if(void 0===c.parent)return new a(d.path);g(f.parent,f.key);l(c.parent,c.key,f.value);return null};c.copy=function(b,d){var c=k.fromJSON(d.from).evaluate(b);if(void 0===c.value)return new a(d.from);var h=k.fromJSON(d.path).evaluate(b);if(void 0===h.parent)return new a(d.path);g(c.parent,c.key);l(h.parent,h.key,c.value);return null};c.test=function(a,d){var c=k.fromJSON(d.path).evaluate(a);return h(c.value,d.value)?null:new b(c.value,d.value)};Object.defineProperty(c,
"__esModule",{value:!0});var k=m("./pointer").Pointer,h=m("./equal").compare;m=m("./errors");var a=m.MissingError,b=m.TestError},{"./equal":2,"./errors":3,"./pointer":6}],6:[function(m,n,c){function l(c){return c.replace(/~1/g,"/").replace(/~0/g,"~")}function g(c){return c.replace(/~/g,"~0").replace(/\//g,"~1")}var k=function(){function c(a,b){for(var e in b){var d=b[e];d.configurable=!0;d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(a,b,e){b&&c(a.prototype,b);e&&c(a,e);return a}}();
Object.defineProperty(c,"__esModule",{value:!0});c.Pointer=function(){function c(a){a=void 0===a?[""]:a;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.tokens=a}k(c,{toString:{value:function(){return this.tokens.map(g).join("/")}},evaluate:{value:function(a){for(var b=null,c=null,d=1,f=this.tokens.length;d<f;d++)b=a,c=this.tokens[d],a=(b||{})[c];return{parent:b,key:c,value:a}}},push:{value:function(a){this.tokens.push(a)}},add:{value:function(a){a=this.tokens.concat(String(a));
return new c(a)}}},{fromJSON:{value:function(a){var b=a.split("/").map(l);if(""!==b[0])throw Error("Invalid JSON Pointer: "+a);return new c(b)}}});return c}()},{}]},{},[4])(4)});
